window.inputTypeNumberPolyfill={clipboardIsNumeric:function(a){a=a?a:window.event;var b=a.clipboardData?a.clipboardData.getData("Text"):window.clipboardData.getData("Text"),c=/^\d+$/.test(b);return c},eventIsBlockedByMaxWhenPasting:function(a,b){var c=this.getMaxValueLength(b);if(c){a=a?a:window.event;var d=a.clipboardData?a.clipboardData.getData("Text"):window.clipboardData.getData("Text"),e="undefined"==typeof d?0:d.length,f=this.getSelectedTextLength(a,b);return b.value.length+e-f>c}return!1},getSelectedTextLength:function(a,b){var c=0;try{c=b.selectionEnd-b.selectionStart,c="number"!=typeof c||isNaN(c)?0:c}catch(d){}if(!c)if(window.getSelection){var e=window.getSelection();c="undefined"==e?0:e.toString().length}else if(document.selection&&"None"!=document.selection.type){var f=document.selection.createRange();c=f.text.length}return c},eventIsBlockedByMaxWhenTyping:function(a,b){var c=this.getMaxValueLength(b);if(c){a=a?a:window.event;var d=this.getSelectedTextLength(a,b),e=this.getCharCodeLength(a);return b.value.length-d+e>c}return!1},getMaxValueLength:function(a){var b=a.getAttribute("max");return b&&/^\d+$/.test(b)?b.length:0},eventKeyIsDigit:function(a){a=a?a:window.event;var b=a.which?a.which:a.keyCode;return this.codeIsADigit(b)||this.charCodeIsAllowed(a)},codeIsADigit:function(a){var b=String.fromCharCode(a);return/^\d$/.test(b)},charCodeIsAllowed:function(a){a=a?a:window.event;var b=a.charCode,c=a.which?a.which:a.keyCode;return b="undefined"==typeof b?c:b,0===b?!0:a.altKey||a.ctrlKey||a.shiftKey||a.metaKey?!0:!!this.codeIsADigit(b)},getCharCodeLength:function(a){a=a?a:window.event;var b=a.charCode,c=a.which?a.which:a.keyCode;return b="undefined"==typeof b?c:b,0===b?0:a.altKey||a.ctrlKey||a.shiftKey||a.metaKey?0:this.codeIsADigit(b)?1:0},polyfillElement:function(a){a.addEventListener("keypress",function(b){inputTypeNumberPolyfill.eventKeyIsDigit(b)&&!inputTypeNumberPolyfill.eventIsBlockedByMaxWhenTyping(b,a)||b.preventDefault()}),a.addEventListener("paste",function(b){inputTypeNumberPolyfill.clipboardIsNumeric(b)&&!inputTypeNumberPolyfill.eventIsBlockedByMaxWhenPasting(b,a)||b.preventDefault()})}},function(){for(var a=document.querySelectorAll('input[type="number"]'),b=0;b<a.length;b++)inputTypeNumberPolyfill.polyfillElement(a[b])}();